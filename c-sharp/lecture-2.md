---
title: Лекция 2. Типы данных.
description: 
published: true
date: 2023-11-18T20:19:04.177Z
tags: 
editor: markdown
dateCreated: 2023-10-23T22:19:08.341Z
---

# Лекция 2. Типы данных.

## Свойства системы типов

```cs
// Элемент данных x имеет тип int
int x = 15;

// Тип данных для элемента b выводится по типу значения справа
var b = 33;
Console.WriteLine(b.GetType());

b = "ABD"; // Ошибка компиляции.
```

```cs
// Переменная связана с
// типом int до конца своей
// жизни в этой области
// видимости программы
int x = 15;

double x = 3.14; // Ошибка компиляции.
```

## Виды типов данных

* Атомарные
	* Целые числа
		* Знаковые
			* sbyte - 8 бит
			* short - 16 бит
			* int - 32 бита
			* long - 64 бита
		* Беззнаковые
			* byte - 8 бит
			* ushort - 16 бит
			* uint - 32 бита
			* ulong - 64 бита
	* Вещественные числа
		* float - 32 бита
		* double - 64 бита
	* Символ
		* char
	* Логические значения
		* bool
* Составные
* Кортеж

## Идентификаторы

* не могут начинаться с цифр или содержать пробелов
* могут содержать буквенные символы Юникода, десятичные числа,
символы соединения Юникода, несамостоятельные знаки Юникода
или символы форматирования Юникода
* не может содержать символов @ и $ (@ допустим как первый символ
для получения буквального идентификатора)

| Можно | Нельзя |
| --- | --- |
| @if | if |
| \_007 | 666 |
| Якорь | номер дома |
| S_2_4_6 | name@ |
| День_недели | mail.r |

## Область видимости идентификаторов
```cs
{
	int x = 10;
	Console.WriteLine(x);
}
Console.WriteLine(x); // Ошибка компиляции
```

```cs
{
	int x = 10;
}
double x = 15;

// Все ок
```

## Оформление кода

* Идентификаторы, обозначающие имена методов и типов
	* PascalCase
	* Примеры: ReadLine(), Console, Math, WriteLine()…
* Идентификаторы, обозначающие локальные переменные
	* camelCase
	* существительные на английском языке, отражающие содержимое переменной
	* Множественное число используется для именования переменных коллекций
	* Примеры: number, firstDigit…
  
## Категории переменных

| Название | Член типа | Описание (назначение) |
| --- | --- | --- |
Локальная переменная метода | Нет | Для временного размещения данных внутри области видимости метода или другого функционального члена |
| Поле | Да | Для данных, ассоциированных с типом 
| Параметр метода | Нет | Для временных переменных, используемых для передачи данных из одного метода в другой |
| Элемент массива | Да | Для временных данных или данных, ассоциированных с типом |

## Объявление и инициализация переменных
```cs
// Объявление
double x;

// Присваивание
x = 7.5;

// Объявление и присваивание
int bin = 2, oct = 8, hex = 16, testVal = 1024;
```

## Категории переменных
| Название | Размещение | Инициализация | Назначение (использование) |
| --- | --- | --- |
| Локальная переменная метода | Стек или куча | Нет | Для локальных вычислений в функциональном члене |
| Поле класса | Куча | Есть | Член класса |
| Поле структуры | Стек или куча | Есть | Член структуры 
| Парамет метода | Стек | Нет | Для передачи данных из метода или в метод |
| Элемент массива | Куча | Eсть | Элемент массива |

## Виды переменных
| Название | Принадлежность типу или объекту | Описание (использование) |
| --- | --- | --- |	
| Локальная переменная метода | Нет | Хранит временные данные в пределах метода |
| Поле | Да | Хранит данные, ассоциированные с типом или его экземплярами |
| Параметр метода | Нет | Временная переменная, используемая для передачи данных из одного метода в другой |
| Элемент массива | Да | Применяется как временная переменная или как данные, ассоциированные с типом |

## Приведение типов

![таблица_неявных_преобразований.png](/таблица_неявных_преобразований.png)

```cs
short testVal = 123;
Console.WriteLine(testVal.GetType() + " " + testVal);
int testVal2 = testVal;
Console.WriteLine(testVal2);

// Output:
// System.Int16 123
// 123
```

## Явное приведение типов

```cs
byte a = 250, b = 250;

// Ошибка компиляции
// Cannot implicitly convert type 'int' to 'ushort'. An explicit conversion exists.
ushort c = a + b; 

// Все ок.
ushort c = (ushort)(a + b);

Console.Write((a + b).GetType());
```

## Класс Convert

Для преобразования одного базового типа в другой в рамках платформы .NET рекомендуется использовать методы System.Convert

```cs
double t = 11.61152;
Console.WriteLine((int)t);
Console.WriteLine(Convert.ToInt32(t));
```

![варианты_завершения_convert.png](/варианты_завершения_convert.png)

## Получение данных от пользователя

```cs
Console.WriteLine("Привет, как тебя зовут?"); // Вывели строку.
string input = Console.ReadLine(); // Получили строку.
// Собрали и вывели новую строку.
Console.WriteLine($"Рад видеть тебя, {input}"); 
```

```cs
string a = Console.ReadLine();
string b = Console.Read(); // так нельзя
string c = Console.Read().ToString(); // а так можно
```

## Метод Parse

```cs
int op1, op2; // два операнда выражения
op1 = int.Parse(Console.ReadLine());
op2 = int.Parse(Console.ReadLine());
Console.WriteLine(op1 + op2);
```

## Обработка исключений при вводе

```cs
int op1, op2; // два операнда выражения

try {
	op1 = int.Parse(Console.ReadLine());
	op2 = int.Parse(Console.ReadLine());
}
catch (FormatException ex) {
	Console.WriteLine("Один из операндов задан некорректно");
	return;
}

Console.WriteLine(op1 + op2);
```

## Приведение типов

```cs
int firstInt, secondInt;
Console.Write("Целое число: "); // Ввод первого числа.
string InputStr = Console.ReadLine();
firstInt = int.Parse(InputStr); // Преобразование в тип int.

Console.Write("Целое число: "); // Ввод представления второго числа.
InputStr = Console.ReadLine();
int.TryParse(InputStr, out secondInt);

// Input:
// Целое число: 11
// Целое число: 22

Console.WriteLine("Ваш текст: " + firstInt + secondInt);
// Output:
// Ваш текст: 1122

Console.WriteLine("Ваш текст: " + (firstInt + secondInt));
// Output:
// Ваш текст: 33
```

## Метод TryParse

В использовании метода **TryParse()** есть тонкость. Он дружелюбно не вызывает аварийных
ситуаций, но в случае, если значение не приводимо к типу, заменяет его нулём целевого
типа

```cs
int op1, op2; // два операнда выражения
int.TryParse(Console.ReadLine(), out op1);
int.TryParse(Console.ReadLine(), out op2);
Console.WriteLine(op1 + op2);
```

## Формирование представления недисятичных чисел

```cs
int bin = 2, oct = 8, hex = 16, testVal = 1024;
Console.WriteLine(Convert.ToString(testVal, bin));
// 10000000000 

Console.WriteLine(Convert.ToString(testVal, oct));
// 2000

Console.WriteLine(Convert.ToString(testVal, hex)); 
// 400
```